<html>
<head>
  <title>interface test</title>
  <script src="zepto.js"></script>
  <script src="interface.js"></script>
  <!--<script src="http://a.local:8080/target/target-script-min.js#anonymous"></script> -->
  
  <style>
  html, body {
    height: 100%;
    overflow: hidden;
  }
  </style>
</head>

<body>
</body>

<script>
  a = new Interface.Panel();
  a.ctx.lineWidth = 2.5;
  a.setBackgroundColor('#444');
  
  /*m = new Interface.XY({
    childWidth: 35,
    numChildren: 10,
    friction:.95,
    detectCollisions:true,
    maxVelocity: 10,
    fill: "rgba(127,127,127,.5)",
    bounds:[10, 10, 500,500],
  });
  a.add(m);
  */
  ///*
  buttonsLabel = o = new Interface.Label({ bounds:[40, 35, 50, 50], value: 'buttons : ' });
  b = new Interface.Button({ bounds:[70, 10, 60,50],  label:'toggle'  });
  c = new Interface.Button({ bounds:[140, 10, 60,50], mode:'momentary', label:'momentary' });
  d = new Interface.Button({ bounds:[210, 10, 60,50], mode:'contact',   label:'contact' });
  
  slidersLabel = o = new Interface.Label({ bounds:[40, 85, 50, 50], value: 'sliders : ' });
  
  e = new Interface.Slider({ bounds:[70,75,35,100], value:.5, min:0 });
  f = new Interface.Slider({ bounds:[140,140,100,35], isVertical:false });  
  g = new Interface.Crossfader({ bounds:[140,75,100,35], min:-10, max:10, crossfaderWidth:15 });
  
  knobsLabel = o = new Interface.Label({ bounds:[40, 205, 50, 50], value: 'knobs : ' });
  i = new Interface.Knob({ 
    bounds:[65,175],
    radius:45,
    usesRotation:true,
    centerZero: true,
  });
  j = new Interface.Knob({ 
    bounds:[150,175],
    radius:45,
    usesRotation:false,
    centerZero: true,
  });  
  k = new Interface.Knob({ 
    bounds:[235,175],
    radius:45,
    usesRotation:true,
    centerZero: false,
  });
  l = new Interface.Knob({ 
    bounds:[320,175],
    radius:45,
    usesRotation:false,
    centerZero: false,
  });
  
  xyLabel = new Interface.Label({ bounds:[40, 285, 50, 50], value: 'xy : ' });
  m = new Interface.XY({
    childWidth: 15,
    numChildren: 4,
    fill: "rgba(127,127,127,.5)",
    bounds:[70, 285, 200,200],
  });
  n = new Interface.Slider({ bounds:[300,285,100,35], isVertical:false, min:.0, max:.25, onvaluechange: function() { m.friction = 1 - this.value; } });
  frictionLabel = o = new Interface.Label({
    bounds:[415, 305, 50, 50],
    hAlign:'left',
    value: 'xy.friction ',
  });
  o = new Interface.Slider({ bounds:[300,330,100,35], isVertical:false, min:.5,   max:20,  onvaluechange: function() { m.maxVelocity = this.value;  } });
  velocityLabel = new Interface.Label({
    bounds:[415, 345, 50, 50],
    hAlign:'left',
    value: 'xy.maxVelocity',
  });
  
  multiSliderLabel = new Interface.Label({ bounds:[35, 525, 50, 50], value: 'multislider' });
  p = new Interface.MultiSlider({ count:15, bounds:[70,500,400,150] });
  
  multiButtonLabel = new Interface.Label({ bounds:[35, 700, 50, 50], value: 'multibutton' });
  q = new Interface.MultiButton({ bounds:[70,675,200,200], requiresFocus:false, onvaluechange: function(r,c,v) {} });
  
  r = new Interface.Menu({ 
    bounds:[65,900], 
    options:['normal', 'darker', 'lighter'], 
    onvaluechange: function(val, old) {
      console.log(this.value);
      if(this.value === 'normal') {
        a.setBackgroundColor('#666');        
      }else if(this.value === 'darker') {
        a.setBackgroundColor('#000');
      }else{
        a.setBackgroundColor('#999');
      }
    }, 
    value:'normal', 
  });
  menuLabel = new Interface.Label({ bounds:[40, 910, 50, 50], value: 'menu : ' });
  
  s = new Interface.Slider({ 
    bounds:[10,  950,50,200],
    min:0,
    max:255,    
    onvaluechange: function() {
      a.background = "rgb("+Math.floor(this.value)+","+Math.floor(t.value)+","+Math.floor(u.value)+")";
    },
  });
  t = new Interface.Slider({ 
    bounds:[60, 950,50,200],
    min:0,
    max:255,
    onvaluechange: function() {
      a.background = "rgb("+Math.floor(s.value)+","+Math.floor(this.value)+","+Math.floor(u.value)+")";
    },
  });
  u = new Interface.Slider({ 
    bounds:[110, 950,50,200],
    min:0,
    max:255,    
    onvaluechange: function() {
      a.background = "rgb("+Math.floor(s.value)+","+Math.floor(t.value)+","+Math.floor(this.value)+")";
    },
  });
  
  v = new Interface.Slider({ 
    bounds:[175, 950,50,200],
    min:0,
    max:255,    
    onvaluechange: function() {
      a.fill = "rgb("+Math.floor(this.value)+","+Math.floor(w.value)+","+Math.floor(x.value)+")";
    },
  });
  w = new Interface.Slider({ 
    bounds:[225, 950,50,200],
    min:0,
    max:255,
    onvaluechange: function() {
      a.fill = "rgb("+Math.floor(v.value)+","+Math.floor(this.value)+","+Math.floor(x.value)+")";
    },
  });
  x = new Interface.Slider({
    bounds:[275, 950,50,200],
    min:0,
    max:255,    
    onvaluechange: function() {
      a.fill = "rgb("+Math.floor(v.value)+","+Math.floor(w.value)+","+Math.floor(this.value)+")";
    },
  });
  
  y = new Interface.Slider({ 
    bounds:[340, 950,50,200],
    min:0,
    max:255,    
    onvaluechange: function() {
      a.stroke = "rgb("+Math.floor(this.value)+","+Math.floor(z.value)+","+Math.floor(aa.value)+")";
    },
  });
  z = new Interface.Slider({ 
    bounds:[390, 950,50,200],
    min:0,
    max:255,
    onvaluechange: function() {
      a.stroke = "rgb("+Math.floor(y.value)+","+Math.floor(this.value)+","+Math.floor(aa.value)+")";
    },
  });
  aa = new Interface.Slider({
    bounds:[440, 950,50,200],
    min:0,
    max:255,    
    onvaluechange: function() {
      a.stroke = "rgb("+Math.floor(y.value)+","+Math.floor(z.value)+","+Math.floor(this.value)+")";
    },
  });
  
  bb = new Interface.Slider({ 
    bounds:[505, 950,50,200],
    min:0,
    max:255,    
    onvaluechange: function() {
      a.setBackgroundColor("rgb("+Math.floor(this.value)+","+Math.floor(cc.value)+","+Math.floor(dd.value)+")");
    },
  });
  cc = new Interface.Slider({ 
    bounds:[555, 950,50,200],
    min:0,
    max:255,
    onvaluechange: function() {
      a.setBackgroundColor("rgb("+Math.floor(bb.value)+","+Math.floor(this.value)+","+Math.floor(dd.value)+")");
    },
  });
  dd = new Interface.Slider({
    bounds:[605, 950,50,200],
    min:0,
    max:255,    
    onvaluechange: function() {
      a.setBackgroundColor("rgb("+Math.floor(bb.value)+","+Math.floor(cc.value)+","+Math.floor(this.value)+")");
    },
  });
  
  a.add(buttonsLabel,b,c,d, slidersLabel,e,f,g, knobsLabel,i,j,k,l,xyLabel,m,n,o,frictionLabel,velocityLabel, multiSliderLabel,p, multiButtonLabel,q, r,menuLabel, s,t,u, v,w,x, y,z,aa, bb,cc,dd);
  /*
  r = new Interface.TextField({ width: 200, height:200, x:400, y : 915, value:"TEST", onvaluechange: function() { console.log('NEW TF', this.value)} });
  */
</script>

</html>